name: app

type: dotnet:2.0-rc

relationships:
    database: "mysqldb:mysql"

web:
    locations:
        "/":
            allow: true
            scripts: false
            passthru: true
            root: "wwwroot"
    # commands:
    #    start: './WebApplication1'

hooks:
    build: |
        DOTNET_CLI_TELEMETRY_OPTOUT=1 strace dotnet publish --runtime debian.9-x64 --output $PLATFORM_OUTPUT_DIRECTORY --verbose --self-contained=false

disk: 256

mounts:
    "/storage": "shared:files/storage"
